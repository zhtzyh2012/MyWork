
08:28 到公司
08:29-08:40 整理桌面卫生,本来打算打印点东西没搞明白,把打印机给暂停
08:41-09:51 处理支付回调中智能注册订单内容
09:52-11:43 处理支付回调中第三方非注册订单内容
11:44-15:44 休息,处理若干私人问题[4小时]
15:45-16:20 处理线上不能登录的问题
16:21-17:54 处理完成批量支付回调,非注册类回调,智能注册类回调重构

1.处理支付回调中智能注册订单内容
2.处理线上不能登录的问题(突发事件)
3.处理完成批量支付回调
4.非注册类回调
5.智能注册类回调重构


技术:
   1.思考支付回调的时候,我是直接使用数据库的字段做校验,还是我重新做计算呢?各有利弊,直接使用数据库字段校验,那么直接做人工干预,但是后续的流程不可以和支付金额有金额关心,如果直接使用金额计算,那么防止支付过程被篡改.
如果金额修改,那么商标金额计算的数据和支付订单的数据无法做到相等处理.
   2.devops这个流程还是非常重要的,人工干预的越少越好啊,这部分工作需要认真去思考的,jenkins的用途只用部分啊.
   3.关于分组或者其他需要类似于1对多的关系,其实可以完全可以处理成单表的,根本不用需要1个总表,1个其他的多的明细的表,只需要1个明细表即可;还有保存json字符串未必不可,并不是一定要分原子性,一定要就问题而分析.

思考:
   1.旧智能注册都要迁移到新库了,我还重新修改旧的智能支付回调做什么呢,我是怎么思考的呢,是不是精力和思考实在跟不上了啊,看样子真的需要休息啦.
   2.支付回调的代码应该抽离去取,做单独的模块,不然现在很多东西都需要弄双份代码,比如深度优化关于新订单的Java实体类,接口设计不匹配,无法旧项目调用接口,比较麻烦,无法处理.还是决定订单金额计算不重新计算商品项,哪些走具体的业务流程.
   3.实在太累了,支付回调周日在调试吧,受不了啦.
